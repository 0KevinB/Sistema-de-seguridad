import{a as v}from"./adminService-D9fYIKvy.js";import{_ as g}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{r as c,j as h,c as s,a as t,t as o,b as m,F as p,k as f,o as i}from"./index-BOzkANz2.js";const y={class:"admin-view"},b={class:"filters"},k=["disabled"],A={class:"pagination-info"},w={key:0,class:"loading"},C={key:1,class:"error-message"},D={key:2,class:"table-container"},F={class:"data-table"},S={class:"accion-cell"},x={key:0,class:"empty-state"},B={__name:"Auditoria",setup(I){const r=c([]),l=c(!0),d=c(""),u=async()=>{var n,e;l.value=!0,d.value="";try{const a=await v.obtenerAuditoria(100,0);r.value=a.registros||[]}catch(a){d.value=((e=(n=a.response)==null?void 0:n.data)==null?void 0:e.mensaje)||"Error al cargar registros de auditor√≠a"}finally{l.value=!1}};h(()=>{u()});const _=n=>new Date(n).toLocaleString("es-MX",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"});return(n,e)=>(i(),s("div",y,[e[1]||(e[1]=t("h1",{class:"view-title"},"Registro de Auditor√≠a",-1)),e[2]||(e[2]=t("p",{class:"view-subtitle"},"Historial completo de acciones del sistema",-1)),t("div",b,[t("button",{onClick:u,class:"btn-refresh",disabled:l.value}," üîÑ "+o(l.value?"Cargando...":"Actualizar"),9,k),t("div",A," Mostrando "+o(r.value.length)+" registros ",1)]),l.value&&!r.value.length?(i(),s("div",w,"Cargando...")):d.value?(i(),s("div",C,o(d.value),1)):(i(),s("div",D,[t("table",F,[e[0]||(e[0]=t("thead",null,[t("tr",null,[t("th",null,"ID"),t("th",null,"Usuario ID"),t("th",null,"Acci√≥n"),t("th",null,"Fecha")])],-1)),t("tbody",null,[(i(!0),s(p,null,f(r.value,a=>(i(),s("tr",{key:a.idAuditoria},[t("td",null,o(a.idAuditoria),1),t("td",null,o(a.idUsuario||"Sistema"),1),t("td",S,o(a.accion),1),t("td",null,o(_(a.fecha)),1)]))),128))])]),r.value.length?m("",!0):(i(),s("div",x," No hay registros de auditor√≠a "))]))]))}},E=g(B,[["__scopeId","data-v-494a9f8a"]]);export{E as default};
