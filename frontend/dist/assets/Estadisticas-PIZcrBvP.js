import{a as p}from"./adminService-D9fYIKvy.js";import{_}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{r as l,j as m,c as n,a as t,t as a,o as d}from"./index-BOzkANz2.js";const b={class:"admin-view"},g={class:"filters"},f=["disabled"],y={class:"pagination-info"},A={key:0,class:"loading"},E={key:1,class:"error-message"},k={key:2,class:"stats-grid"},w={class:"stat-card card-primary"},B={class:"stat-content"},C={class:"stat-value"},S={class:"stat-card card-success"},z={class:"stat-content"},R={class:"stat-value"},T={class:"stat-card card-danger"},U={class:"stat-content"},x={class:"stat-value"},M={class:"stat-card card-info"},j={class:"stat-content"},q={class:"stat-value"},D={class:"stat-card card-warning"},F={class:"stat-content"},I={class:"stat-value"},h={class:"stat-card card-error"},L={class:"stat-content"},N={class:"stat-value"},V={__name:"Estadisticas",setup(X){const i=l({}),o=l(!0),e=l(""),c=l(""),v=async()=>{var r,s;o.value=!0,e.value="";try{const u=await p.obtenerEstadisticas();i.value=u.estadisticas||{},c.value=new Date().toLocaleTimeString("es-MX")}catch(u){e.value=((s=(r=u.response)==null?void 0:r.data)==null?void 0:s.mensaje)||"Error al cargar estad√≠sticas"}finally{o.value=!1}};return m(()=>{v()}),(r,s)=>(d(),n("div",b,[s[18]||(s[18]=t("h1",{class:"view-title"},"Estad√≠sticas del Sistema",-1)),s[19]||(s[19]=t("p",{class:"view-subtitle"},"M√©tricas y resumen del sistema (√∫ltimas 24 horas)",-1)),t("div",g,[t("button",{onClick:v,class:"btn-refresh",disabled:o.value}," üîÑ "+a(o.value?"Cargando...":"Actualizar"),9,f),t("div",y," √öltima actualizaci√≥n: "+a(c.value),1)]),o.value&&!i.value.usuariosTotales?(d(),n("div",A,"Cargando...")):e.value?(d(),n("div",E,a(e.value),1)):(d(),n("div",k,[t("div",w,[s[2]||(s[2]=t("div",{class:"stat-icon"},"üë•",-1)),t("div",B,[s[0]||(s[0]=t("h3",null,"Total de Usuarios",-1)),t("p",C,a(i.value.usuariosTotales||0),1),s[1]||(s[1]=t("p",{class:"stat-subtitle"},"Registrados en el sistema",-1))])]),t("div",S,[s[5]||(s[5]=t("div",{class:"stat-icon"},"‚úÖ",-1)),t("div",z,[s[3]||(s[3]=t("h3",null,"Usuarios Activos",-1)),t("p",R,a(i.value.usuariosActivos||0),1),s[4]||(s[4]=t("p",{class:"stat-subtitle"},"Cuentas habilitadas",-1))])]),t("div",T,[s[8]||(s[8]=t("div",{class:"stat-icon"},"üö´",-1)),t("div",U,[s[6]||(s[6]=t("h3",null,"Usuarios Bloqueados",-1)),t("p",x,a(i.value.usuariosBloqueados||0),1),s[7]||(s[7]=t("p",{class:"stat-subtitle"},"Cuentas deshabilitadas",-1))])]),t("div",M,[s[11]||(s[11]=t("div",{class:"stat-icon"},"üîê",-1)),t("div",j,[s[9]||(s[9]=t("h3",null,"Sesiones Activas",-1)),t("p",q,a(i.value.sesionesActivas||0),1),s[10]||(s[10]=t("p",{class:"stat-subtitle"},"Usuarios conectados",-1))])]),t("div",D,[s[14]||(s[14]=t("div",{class:"stat-icon"},"üìã",-1)),t("div",F,[s[12]||(s[12]=t("h3",null,"Auditor√≠a (24h)",-1)),t("p",I,a(i.value.auditoriaReciente||0),1),s[13]||(s[13]=t("p",{class:"stat-subtitle"},"Registros recientes",-1))])]),t("div",h,[s[17]||(s[17]=t("div",{class:"stat-icon"},"‚ùå",-1)),t("div",L,[s[15]||(s[15]=t("h3",null,"Intentos Fallidos (24h)",-1)),t("p",N,a(i.value.intentosFallidosRecientes||0),1),s[16]||(s[16]=t("p",{class:"stat-subtitle"},"Accesos rechazados",-1))])])]))]))}},K=_(V,[["__scopeId","data-v-7b8dc513"]]);export{K as default};
