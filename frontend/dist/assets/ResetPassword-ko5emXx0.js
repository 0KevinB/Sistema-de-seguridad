import{r as n,c as d,a,w,b,d as i,v as u,t as c,m as _,h,o as p,l as y}from"./index-BOzkANz2.js";import{_ as C}from"./_plugin-vue_export-helper-DlAUqK2U.js";const g={class:"auth-container"},P={class:"auth-card"},R={class:"form-group"},k=["disabled"],x={class:"form-group"},N=["disabled"],V={key:0,class:"error-message"},B=["disabled"],q={__name:"ResetPassword",setup(D){const m=_(),v=h(),e=n({password:"",confirmPassword:""}),o=n(!1),r=n(""),f=async()=>{var l,s;if(e.value.password!==e.value.confirmPassword){r.value="Las contraseñas no coinciden";return}o.value=!0,r.value="";try{await y.post(`/auth/reset-password/${m.params.token}`,{nuevaContrasena:e.value.password}),alert("Contraseña restablecida correctamente"),v.push("/login")}catch(t){r.value=((s=(l=t.response)==null?void 0:l.data)==null?void 0:s.message)||"Error al restablecer contraseña"}finally{o.value=!1}};return(l,s)=>(p(),d("div",g,[a("div",P,[s[4]||(s[4]=a("h1",{class:"auth-title"},"Restablecer Contraseña",-1)),s[5]||(s[5]=a("p",{class:"auth-subtitle"},"Ingresa tu nueva contraseña",-1)),a("form",{onSubmit:w(f,["prevent"]),class:"auth-form"},[a("div",R,[s[2]||(s[2]=a("label",{for:"password"},"Nueva Contraseña",-1)),i(a("input",{type:"password",id:"password","onUpdate:modelValue":s[0]||(s[0]=t=>e.value.password=t),required:"",disabled:o.value,placeholder:"Nueva contraseña"},null,8,k),[[u,e.value.password]])]),a("div",x,[s[3]||(s[3]=a("label",{for:"confirmPassword"},"Confirmar Contraseña",-1)),i(a("input",{type:"password",id:"confirmPassword","onUpdate:modelValue":s[1]||(s[1]=t=>e.value.confirmPassword=t),required:"",disabled:o.value,placeholder:"Confirmar contraseña"},null,8,N),[[u,e.value.confirmPassword]])]),r.value?(p(),d("div",V,c(r.value),1)):b("",!0),a("button",{type:"submit",class:"btn-primary",disabled:o.value},c(o.value?"Restableciendo...":"Restablecer Contraseña"),9,B)],32)])]))}},M=C(q,[["__scopeId","data-v-60ad4453"]]);export{M as default};
