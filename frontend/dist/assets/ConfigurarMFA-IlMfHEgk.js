import{u as p,r as d,c as l,a as s,e as b,f as _,g as S,b as C,q as h,t as n,h as k,o as c,i as B}from"./index-BOzkANz2.js";import{u as M}from"./userService-DiuQdIr4.js";import{_ as y}from"./_plugin-vue_export-helper-DlAUqK2U.js";const E={class:"dashboard"},U={class:"navbar"},x={class:"nav-content"},A={class:"dashboard-content"},R={class:"config-card"},V={class:"metodos-grid"},j={class:"metodo-card"},D=["disabled"],F={class:"metodo-card"},N=["disabled"],q={class:"metodo-card"},w=["disabled"],z={class:"metodo-card"},I=["disabled"],P={__name:"ConfigurarMFA",setup(T){const u=k();p();const e=d(""),a=d(!1),f=()=>{u.push("/configurar-preguntas-mfa")},v=async()=>{var i,o;a.value=!0,e.value="";try{const t="USB_"+Math.random().toString(36).substring(7),r=await M.configurarMFA("usb",{identificador:t,nombre:"Mi USB de Seguridad"});r.success?e.value=`‚úÖ Dispositivo USB registrado. Identificador: ${t}`:e.value="‚ùå Error al configurar: "+r.mensaje}catch(t){e.value="‚ùå Error: "+(((o=(i=t.response)==null?void 0:i.data)==null?void 0:o.mensaje)||t.message)}finally{a.value=!1}},g=()=>{e.value="‚úÖ El email ya est√° configurado autom√°ticamente"},m=()=>{e.value="‚úÖ El SMS ya est√° configurado autom√°ticamente (requiere tel√©fono)"};return(i,o)=>{const t=S("router-link");return c(),l("div",E,[s("nav",U,[s("div",x,[b(t,{to:"/dashboard",class:"back-link"},{default:_(()=>[...o[0]||(o[0]=[B("‚Üê Volver al Dashboard",-1)])]),_:1})])]),s("div",A,[s("div",R,[o[9]||(o[9]=s("h1",{class:"config-title"},"Configurar Autenticaci√≥n Multi-Factor",-1)),o[10]||(o[10]=s("p",{class:"config-subtitle"},"Selecciona y configura tus m√©todos de verificaci√≥n",-1)),e.value?(c(),l("div",{key:0,class:h(["alert",e.value.includes("‚úÖ")?"alert-success":"alert-error"])},n(e.value),3)):C("",!0),s("div",V,[s("div",j,[o[1]||(o[1]=s("div",{class:"metodo-header"},[s("span",{class:"metodo-icon"},"üìß"),s("h3",null,"Email")],-1)),o[2]||(o[2]=s("p",null,"Recibe c√≥digos de verificaci√≥n por correo electr√≥nico",-1)),s("button",{onClick:g,class:"btn-config",disabled:a.value},"Configurar",8,D)]),s("div",F,[o[3]||(o[3]=s("div",{class:"metodo-header"},[s("span",{class:"metodo-icon"},"üì±"),s("h3",null,"SMS")],-1)),o[4]||(o[4]=s("p",null,"Recibe c√≥digos de verificaci√≥n por mensaje de texto",-1)),s("button",{onClick:m,class:"btn-config",disabled:a.value},"Configurar",8,N)]),s("div",q,[o[5]||(o[5]=s("div",{class:"metodo-header"},[s("span",{class:"metodo-icon"},"‚ùì"),s("h3",null,"Preguntas de Seguridad")],-1)),o[6]||(o[6]=s("p",null,"Responde preguntas de seguridad personalizadas",-1)),s("button",{onClick:f,class:"btn-config",disabled:a.value},n(a.value?"Configurando...":"Configurar"),9,w)]),s("div",z,[o[7]||(o[7]=s("div",{class:"metodo-header"},[s("span",{class:"metodo-icon"},"üîë"),s("h3",null,"Dispositivo USB")],-1)),o[8]||(o[8]=s("p",null,"Usa un dispositivo USB como llave de seguridad",-1)),s("button",{onClick:v,class:"btn-config",disabled:a.value},n(a.value?"Registrando...":"Configurar"),9,I)])])])])])}}},J=y(P,[["__scopeId","data-v-6dbc9f66"]]);export{J as default};
